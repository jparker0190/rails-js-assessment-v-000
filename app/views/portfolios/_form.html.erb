<body class="bg-dark">
  <%= form_with(model: portfolio, local: true) do |form| %>
    <% if portfolio.errors.any? %>
      <div id="error_explanation">
         <h2><%= pluralize(portfolio.errors.count, "error") %> prohibited this portfolio from being saved:</h2>
         <ul>
          <% portfolio.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
         </ul>
      </div>
    <% end %>

    <div class="form-group text-center">
      <%= form.text_field :name, autofocus: true, class: 'form-control', placeholder: "Enter a name" %>
    </div>

    <div class="actions">
       <%= form.submit class: 'btn btn-primary btn-block' %>
    </div>
  <% end%>
</body>
<div id="postResult">
  <h2 id="postTitle"></h2>
</div>
 
<script type="text/javascript" charset="utf-8">
  $(function () {
    $('form').submit(function(event) {
      //prevent form from submitting the default way
      event.preventDefault();
 
      var values = $(this).serialize();
 
      var posting = $.post('/portfolios', values);
 
      posting.done(function(data) {
        var post = data;
        $("#postTitle").text(post["name"]);
      });
    });
  });
</script>